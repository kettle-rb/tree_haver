# FFI Backend - works on MRI, JRuby, and TruffleRuby
gem "ffi", github: "ffi/ffi", branch: "master", require: false # DO NOT LOAD, because conflicts with MRI
gem "toml-rb", github: "emancu/toml-rb", branch: "master"
gem "citrus", github: "mjackson/citrus", branch: "master"
gem "toml", github: "jm/toml", branch: "master"
gem "parslet", github: "kschiess/parslet", branch: "master"
gem "prism", github: "ruby/prism", branch: "main"
gem "unparser", github: "mbj/unparser", branch: "main"

platform :mri do
  # MRI Backend
  gem "ruby_tree_sitter", github: "Faveod/ruby-tree-sitter", require: false # DO NOT LOAD, because conflicts with FFI
  gem "markly", github: "ioquatix/markly"
  # Bundler fails on git submodules in commonmarker:
  # See: https://github.com/ruby/rubygems/issues/9001#issuecomment-3740868525
  # gem "commonmarker", github: "gjtorikian/commonmarker"
  # gem "commonmarker" # Not yet compatible with ruby-head
  # Rust Backend
  gem "tree_stump",
    # path: "../../vendor/tree_stump"
    github: "joker1007/tree_stump",
    branch: "main"
end
