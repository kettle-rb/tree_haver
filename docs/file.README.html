<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.38
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><table>
  <thead>
    <tr>
      <th>üìç NOTE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>RubyGems (the <a href="https://github.com/rubygems/">GitHub org</a>, not the website) <a href="https://joel.drapper.me/p/ruby-central-security-measures/">suffered</a> a <a href="https://pup-e.com/blog/goodbye-rubygems/">hostile takeover</a> in September 2025.</td>
    </tr>
    <tr>
      <td>Ultimately <a href="https://www.reddit.com/r/ruby/s/gOk42POCaV">4 maintainers</a> were <a href="https://bsky.app/profile/martinemde.com/post/3m3occezxxs2q">hard removed</a> and a reason has been given for only 1 of those, while 2 others resigned in protest.</td>
    </tr>
    <tr>
      <td>It is a <a href="https://joel.drapper.me/p/ruby-central-takeover/">complicated story</a> which is difficult to <a href="https://joel.drapper.me/p/ruby-central-fact-check/">parse quickly</a>.</td>
    </tr>
    <tr>
      <td>Simply put - there was active policy for adding or removing maintainers/owners of <a href="https://github.com/ruby/rubygems/blob/b1ab33a3d52310a84d16b193991af07f5a6a07c0/doc/rubygems/POLICIES.md?plain=1#L187-L196">rubygems</a> and <a href="https://github.com/ruby/rubygems/blob/b1ab33a3d52310a84d16b193991af07f5a6a07c0/doc/bundler/playbooks/TEAM_CHANGES.md">bundler</a>, and those <a href="https://www.reddit.com/r/ruby/comments/1ove9vp/rubycentral_hates_this_one_fact/">policies were not followed</a>.</td>
    </tr>
    <tr>
      <td>I‚Äôm adding notes like this to gems because I <a href="https://joel.drapper.me/p/ruby-central/">don‚Äôt condone theft</a> of repositories or gems from their rightful owners.</td>
    </tr>
    <tr>
      <td>If a similar theft happened with my repos/gems, I‚Äôd hope some would stand up for me.</td>
    </tr>
    <tr>
      <td>Disenfranchised former-maintainers have started <a href="https://gem.coop">gem.coop</a>.</td>
    </tr>
    <tr>
      <td>Once available I will publish there exclusively; unless RubyCentral makes amends with the community.</td>
    </tr>
    <tr>
      <td>The <a href="https://youtu.be/_H4qbtC5qzU?si=BvuBU90R2wAqD2E6">‚ÄúTechnology for Humans: Joel Draper‚Äù</a> podcast episode by <a href="https://reinteractive.com/ruby-on-rails">reinteractive</a> is the most cogent summary I‚Äôm aware of.</td>
    </tr>
    <tr>
      <td>See <a href="https://github.com/gem-coop/gem.coop/issues/12">here</a>, <a href="https://gem.coop">here</a> and <a href="https://martinemde.com/2025/10/05/announcing-gem-coop.html">here</a> for more info on what comes next.</td>
    </tr>
    <tr>
      <td>What I‚Äôm doing: A (WIP) proposal for <a href="https://github.com/galtzo-floss/bundle-namespace">bundler/gem scopes</a>, and a (WIP) proposal for a federated <a href="https://github.com/galtzo-floss/gem-server">gem server</a>.</td>
    </tr>
  </tbody>
</table>

<p><a href="https://discord.gg/3qme4XHNKN"><img src="https://logos.galtzo.com/assets/images/galtzo-floss/avatar-192px.svg" alt="Galtzo FLOSS Logo by Aboling0, CC BY-SA 4.0"></a> <a href="https://www.ruby-lang.org/"><img src="https://logos.galtzo.com/assets/images/ruby-lang/avatar-192px.svg" alt="ruby-lang Logo, Yukihiro Matsumoto, Ruby Visual Identity Team, CC BY-SA 2.5"></a> <a href="https://github.com/kettle-rb"><img src="https://logos.galtzo.com/assets/images/kettle-rb/avatar-192px.svg" alt="kettle-rb Logo by Aboling0, CC BY-SA 4.0"></a></p>

<h1 id="-treehaver">üå¥ TreeHaver</h1>

<p><a href="https://bestgems.org/gems/tree_haver"><img src="https://img.shields.io/gem/v/tree_haver.svg" alt="Version"></a> <a href="http://github.com/kettle-rb/tree_haver/releases"><img src="https://img.shields.io/github/tag/kettle-rb/tree_haver.svg" alt="GitHub tag (latest SemVer)"></a> <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-259D6C.svg" alt="License: MIT"></a> <a href="https://bestgems.org/gems/tree_haver"><img src="https://img.shields.io/gem/rd/tree_haver.svg" alt="Downloads Rank"></a> <a href="https://www.codetriage.com/kettle-rb/tree_haver"><img src="https://www.codetriage.com/kettle-rb/tree_haver/badges/users.svg" alt="Open Source Helpers"></a> <a href="https://codecov.io/gh/kettle-rb/tree_haver"><img src="https://codecov.io/gh/kettle-rb/tree_haver/graph/badge.svg" alt="CodeCov Test Coverage"></a> <a href="https://coveralls.io/github/kettle-rb/tree_haver?branch=main"><img src="https://coveralls.io/repos/github/kettle-rb/tree_haver/badge.svg?branch=main" alt="Coveralls Test Coverage"></a> <a href="https://qlty.sh/gh/kettle-rb/projects/tree_haver/metrics/code?sort=coverageRating"><img src="https://qlty.sh/gh/kettle-rb/projects/tree_haver/coverage.svg" alt="QLTY Test Coverage"></a> <a href="https://qlty.sh/gh/kettle-rb/projects/tree_haver"><img src="https://qlty.sh/gh/kettle-rb/projects/tree_haver/maintainability.svg" alt="QLTY Maintainability"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/heads.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/heads.yml/badge.svg" alt="CI Heads"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/dep-heads.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/dep-heads.yml/badge.svg" alt="CI Runtime Dependencies @ HEAD"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/current.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/current.yml/badge.svg" alt="CI Current"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/truffle.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/truffle.yml/badge.svg" alt="CI Truffle Ruby"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/locked_deps.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/locked_deps.yml/badge.svg" alt="Deps Locked"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/unlocked_deps.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/unlocked_deps.yml/badge.svg" alt="Deps Unlocked"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/supported.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/supported.yml/badge.svg" alt="CI Supported"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/coverage.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/coverage.yml/badge.svg" alt="CI Test Coverage"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/style.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/style.yml/badge.svg" alt="CI Style"></a> <a href="https://github.com/kettle-rb/tree_haver/security/code-scanning"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/codeql-analysis.yml/badge.svg" alt="CodeQL"></a> <a href="https://github.com/kettle-rb/tree_haver/actions/workflows/license-eye.yml"><img src="https://github.com/kettle-rb/tree_haver/actions/workflows/license-eye.yml/badge.svg" alt="Apache SkyWalking Eyes License Compatibility Check"></a></p>

<p><code>if ci_badges.map(&amp;:color).detect { it != "green"}</code> ‚òùÔ∏è <a href="https://discord.gg/3qme4XHNKN">let me know</a>, as I may have missed the <a href="https://discord.gg/3qme4XHNKN">discord notification</a>.</p>

<hr>
<p><code>if ci_badges.map(&amp;:color).all? { it == "green"}</code> üëáÔ∏è send money so I can do more of this. FLOSS maintenance is now my full-time job.</p>

<p><a href="https://opencollective.com/kettle-rb#backer"><img src="https://opencollective.com/kettle-rb/backers/badge.svg?style=flat" alt="OpenCollective Backers"></a> <a href="https://opencollective.com/kettle-rb#sponsor"><img src="https://opencollective.com/kettle-rb/sponsors/badge.svg?style=flat" alt="OpenCollective Sponsors"></a> <a href="https://github.com/sponsors/pboling"><img src="https://img.shields.io/badge/Sponsor_Me!-pboling.svg?style=social&amp;logo=github" alt="Sponsor Me on Github"></a> <a href="https://liberapay.com/pboling/donate"><img src="https://img.shields.io/liberapay/goal/pboling.svg?logo=liberapay&amp;color=a51611&amp;style=flat" alt="Liberapay Goal Progress"></a> <a href="https://www.paypal.com/paypalme/peterboling"><img src="https://img.shields.io/badge/donate-paypal-a51611.svg?style=flat&amp;logo=paypal" alt="Donate on PayPal"></a> <a href="https://www.buymeacoffee.com/pboling"><img src="https://img.shields.io/badge/buy_me_a_coffee-%E2%9C%93-a51611.svg?style=flat" alt="Buy me a coffee"></a> <a href="https://polar.sh/pboling"><img src="https://img.shields.io/badge/polar-donate-a51611.svg?style=flat" alt="Donate on Polar"></a> <a href="https://ko-fi.com/O5O86SNP4"><img src="https://img.shields.io/badge/ko--fi-%E2%9C%93-a51611.svg?style=flat" alt="Donate at ko-fi.com"></a></p>

<h2 id="-synopsis">üåª Synopsis</h2>

<p>TreeHaver is a cross-Ruby adapter for the <a href="https://tree-sitter.github.io/tree-sitter/">tree-sitter</a> and <a href="https://github.com/mjackson/citrus">Citrus</a> parsing libraries and other dedicated parsing tools that works seamlessly across MRI Ruby, JRuby, and TruffleRuby. It provides a unified API for parsing source code using grammars, regardless of your Ruby implementation.</p>

<h3 id="the-adapter-pattern-like-faraday-but-for-parsing">The Adapter Pattern: Like Faraday, but for Parsing</h3>

<p>If you‚Äôve used <a href="https://github.com/lostisland/faraday">Faraday</a>, <a href="https://github.com/intridea/multi_json">multi_json</a>, or <a href="https://github.com/sferik/multi_xml">multi_xml</a>, you‚Äôll feel right at home with TreeHaver. These gems share a common philosophy:</p>

<table>
  <thead>
    <tr>
      <th>Gem</th>
      <th>Unified API for</th>
      <th>Backend Examples</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Faraday</strong></td>
      <td>HTTP requests</td>
      <td>Net::HTTP, Typhoeus, Patron, Excon</td>
    </tr>
    <tr>
      <td><strong>multi_json</strong></td>
      <td>JSON parsing</td>
      <td>Oj, Yajl, JSON gem</td>
    </tr>
    <tr>
      <td><strong>multi_xml</strong></td>
      <td>XML parsing</td>
      <td>Nokogiri, LibXML, Ox</td>
    </tr>
    <tr>
      <td><strong>TreeHaver</strong></td>
      <td>Code parsing</td>
      <td>MRI, Rust, FFI, Java, Prism, Psych, Commonmarker, Markly, Citrus (&amp; Co.)</td>
    </tr>
  </tbody>
</table>

<p><strong>Write once, run anywhere.</strong></p>

<p><strong>Learn once, write anywhere.</strong></p>

<p>Just as Faraday lets you swap HTTP adapters without changing your code, TreeHaver lets you swap tree-sitter backends. Your parsing code remains the same whether you‚Äôre running on MRI with native C extensions, JRuby with FFI, or TruffleRuby.</p>

<pre class="code language-ruby"><code class="language-ruby"># Your code stays the same regardless of backend
parser = TreeHaver::Parser.new
par